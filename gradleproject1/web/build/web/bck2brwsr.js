(function() {(function(z){function w(a,e,b){for(var c=0;;){var d=a.indexOf(e,c);if(-1===d)return a;c=d+b.length;a=a.substring(0,d)+b+a.substring(d+e.length)}}function A(a){a=w(a,"_","_1");return a=w(a,".","_")}function G(a,e,b){a[e]=function(){return b.apply(null,arguments)};var c=e.indexOf("__");0<=c&&(c=e.substring(0,c),a[c]||(a[c]=a[e]))}function H(a,e){for(var b in e){var c=e[b];c&&8===(c.access&8)&&G(a,b,c)}}function B(a,e,b,c){var d={};Object.defineProperty(d,"__raw__",{value:c});c&&H(d,c);d.invoke||(d.invoke=
function(){return x(a,e,arguments)});"function"===typeof b&&b(d);return d}function C(a){a=q.indexOf(a.target);q.splice(a,1);if(0===q.length){for(a=0;a<m.length;a+=4){var e=m[a],b=m[a+1],c=m[a+3];x(e,b,m[a+2]);B(e,b,c)}m=[]}}function x(a,e,b){a=a.loadClass(e);if(b){var c=b[0],d=-1==c.indexOf("__")?c+"__":c;b=Array.prototype.slice.call(b,1);var n="",r;for(r in a){if(0===r.indexOf(d)){var p=a[r];if(8===(p.access&8))return p.apply(null,b)}n+=r.toString()+"\n"}throw"Cannot find "+c+" in "+e+" found:\n"+
n;}}function I(a){console.log("error loading "+a.target.src);C(a)}function D(a,e){".jar"==a.substring(a.length-4)&&(a=a.substring(0,a.length-4)+".js");if("undefined"!==typeof document){var b=document.createElement("script");b.type="text/javascript";b.src=a;b.onload=C;b.onerror=I;e&&!document.currentScript&&(document.currentScript=b);document.getElementsByTagName("head")[0].appendChild(b);q.push(b)}else{e=v;try{v=a,importScripts(a)}finally{v=e}}}var t=[],v=null,q=[],m=[];z.bck2brwsr=function(){function a(f,
h){h=(atob||window.atob)(h);for(var g=[],l=0;l<h.length;l++){var k=h.charCodeAt(l)&255;127<k&&(k-=256);g.push(k)}c[f]?c[f].push(g):c[f]=[g]}function e(){var f=d.java_lang_reflect_Array;f&&f(!1)}for(var b=Array.prototype.slice.apply(arguments),c={},d={registerResource:a},n=0;n<t.length;++n)t[n](d);d.registerResource=null;var r=t.length;n={};var p,E=function(f,h){h="number"==typeof h?h:0;var g=c[f];if(g){var l=g.length;if(h<l)return g[h];h-=l}else l=0;for(g=0;g<b.length;g++){var k=b[g];if(k){if("string"===
typeof k&&".js"===k.substring(k.length-3))D(k,!0),b[g]=null;else if("function"===typeof k)var u=k(f,h);else{if(void 0===p){p=null;try{p=d.loadClass("org.apidesign.vm4brwsr.ClassPath")}catch(J){}}if(p)u=p.loadBytes___3BLjava_lang_String_2Ljava_lang_Object_2II(f,b,g,h);else{if("org/apidesign/vm4brwsr/ClassPath.class"!==f)throw"Core Java library not registered. Cannot load from "+k;u=null}}if(u)return u}}for(;r<t.length;)d.registerResource=a,t[r++](d),d.registerResource=null,e();return(g=c[f])&&g.length>
l?g[l]:null},F=function(f,h,g){if(!h)throw"Cannot find "+f;var l=null;try{var k=y("org.apidesign.vm4brwsr.VMLazy")}catch(u){l=u}if(!k)throw"No bck2brwsr VM module to compile "+f+":\n"+l;g||(g=A(f),delete d[g]);return k.load__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2_3Ljava_lang_Object_2_3B(d,f,b,h)},y=function(f){var h=A(f),g=d[h];if(g)return g(!1);try{var l=E(w(f,".","/")+".class");return F(f,l,!0)}catch(k){if(g=d[h])return g(!1);throw k;}};if(d.loadClass)throw"Cannot initialize the bck2brwsr VM twice!";
d.loadClass=y;d._reload=F;d.loadBytes=E;e();n.loadClass=function(f,h){if(0===q.length)try{var g=y(f,h);return B(d,f,h,g)}catch(l){if(0===q.length)throw l;}m.push(d);m.push(f);m.push(null);m.push(h);return{invoke:function(){0===q.length?x(d,f,arguments):(m.push(d),m.push(f),m.push(arguments),m.push(null))}}};return n};z.bck2brwsr.register=function(a,e){if(!a||"melta"!==a.magic)return console.log("Will not register: "+e),!1;var b=null;if("undefined"===typeof document)b=v;else{var c=document.currentScript;
if(!c){c=document.getElementsByTagName("script");for(var d=c.length;0<=--d&&!c[d].src;);c=c[d]}c&&(b=c.src)}b=b?b.replace(/[^\/]*$/,""):"";t.push(e);if(a=a.classpath)for(e=0;e<a.length;e++)D(b+a[e],!1);return null}})(this);})(this);
